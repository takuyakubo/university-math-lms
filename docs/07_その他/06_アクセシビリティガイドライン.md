# アクセシビリティガイドライン

このガイドラインでは、大学生向け数学特化型学習管理システム（LMS）におけるアクセシビリティ対応の方針と実装方法を説明します。

## アクセシビリティの方針

本システムは、Web Content Accessibility Guidelines (WCAG) 2.1のレベルAAに準拠することを目指しています。これにより、さまざまな障害を持つユーザーを含む、すべてのユーザーがシステムを使用できるようにします。

## 全般的なガイドライン

### 知覚可能性

1. **テキスト代替**: すべての非テキストコンテンツ（画像、グラフ、数式など）にはテキスト代替が提供されるべきです。
   - 数式には、MathML形式のマークアップを使用してください。
   - グラフや図には、詳細な説明テキストを提供してください。

2. **時間依存メディア**: 動画や音声コンテンツには、字幕やトランスクリプトを提供してください。

3. **適応可能**: コンテンツは、さまざまな方法で表示しても情報や構造が失われないように作成してください。
   - セマンティックなHTMLを使用してください。
   - コンテンツの読み上げ順序が論理的であることを確認してください。

4. **識別可能**: ユーザーがコンテンツを見やすく、聞きやすくするための設定を提供してください。
   - テキストと背景のコントラスト比は、最低4.5:1を確保してください。
   - 文字サイズの変更機能を提供してください。
   - 高コントラストモードを実装してください。

### 操作可能性

1. **キーボードアクセシビリティ**: すべての機能がキーボードで操作できるようにしてください。
   - すべての対話要素にキーボードフォーカスを提供してください。
   - キーボードショートカットを実装してください。

2. **十分な時間**: ユーザーがコンテンツを読み、使用するのに十分な時間を提供してください。
   - テストやクイズにはタイム拡張オプションを提供してください。
   - セッションタイムアウトの前に警告を表示し、延長オプションを提供してください。

3. **発作と身体的反応**: 発作を引き起こすことが知られているコンテンツは使用しないでください。
   - 点滅するコンテンツを避けてください。

4. **ナビゲーション可能**: ユーザーがナビゲートし、コンテンツを見つけ、現在位置を特定するのに役立つ方法を提供してください。
   - 明確なページタイトルを設定してください。
   - パンくずリストを実装してください。
   - スキップナビゲーションリンクを提供してください。

### 理解可能性

1. **読みやすさ**: テキストコンテンツは読みやすく理解しやすくしてください。
   - 複雑な数学的概念には、段階的な説明を提供してください。
   - 専門用語には用語集へのリンクを提供してください。

2. **予測可能性**: Webページの表示や操作は予測可能な方法で行ってください。
   - 一貫したナビゲーション構造を維持してください。
   - 予期しない変更を避けてください。

3. **入力支援**: ユーザーが間違いを回避し、修正できるよう支援してください。
   - フォームにはラベルとエラーメッセージを提供してください。
   - 数式入力ではプレビュー機能を提供し、入力ミスを検出してください。

### 堅牢性

1. **互換性**: 現在および将来のユーザーエージェント（支援技術を含む）との互換性を最大化してください。
   - 標準的なHTML、CSS、JavaScriptを使用してください。
   - ARIAロールと属性を適切に使用してください。

## 数学コンテンツのアクセシビリティ

数学コンテンツは特に配慮が必要です：

1. **数式のアクセシビリティ**:
   - MathJaxまたはKaTeXで数式をレンダリングする際、MathML出力を有効にしてください。
   - スクリーンリーダーでの読み上げをサポートするため、数式に意味的なマークアップを使用してください。

2. **グラフと図表**:
   - グラフには詳細な説明テキストを提供してください。
   - インタラクティブなグラフには、キーボード操作とスクリーンリーダーのサポートを実装してください。

3. **数式入力**:
   - 数式エディタにはキーボードショートカットとアクセシブルな操作方法を提供してください。
   - 音声入力オプションを検討してください。

## テストと検証

アクセシビリティ対応を確認するため、以下のテストを実施してください：

1. **自動テスト**:
   - axe、Wave、Lighthouse などの自動テストツールを使用してください。

2. **マニュアルテスト**:
   - キーボードナビゲーションテスト
   - スクリーンリーダーテスト（NVDA、JAWS、VoiceOver等）
   - 高コントラストモードテスト
   - 拡大テスト

3. **ユーザーテスト**:
   - 可能であれば、さまざまな障害を持つユーザーによるテストを実施してください。

## 実装チェックリスト

開発者は以下のチェックリストを参考にしてください：

- [ ] セマンティックなHTML要素を使用しているか
- [ ] すべての画像にalt属性があるか
- [ ] フォーム要素にはラベルが関連付けられているか
- [ ] キーボードでナビゲート可能か
- [ ] コントラスト比は十分か
- [ ] ページ構造は適切か（見出し、リスト等）
- [ ] 数式はMathMLでアクセス可能か
- [ ] エラーメッセージは明確か
- [ ] フォーカス表示は視認性が高いか
- [ ] スクリーンリーダーで正しく読み上げられるか

## リソース

- [WCAG 2.1](https://www.w3.org/TR/WCAG21/)
- [MathML](https://www.w3.org/Math/)
- [MathJax Accessibility Features](https://docs.mathjax.org/en/latest/basic/accessibility.html)
- [ARIA Authoring Practices](https://www.w3.org/WAI/ARIA/apg/)

アクセシビリティは継続的なプロセスです。新機能の開発時や既存機能の更新時には、常にアクセシビリティを考慮してください。
