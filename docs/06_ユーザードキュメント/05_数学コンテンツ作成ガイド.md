# 数学コンテンツ作成ガイド

このガイドでは、本LMSで使用する数学コンテンツの作成方法について説明します。

## 基本的なコンテンツ構造

本システムでは、数学コンテンツは以下の階層構造で管理されます：

1. コース（例：線形代数学）
2. モジュール（例：ベクトル空間）
3. レッスン（例：部分空間と基底）
4. コンテンツ（テキスト、動画、演習問題など）

## 数式の記述

本システムでは、LaTeX記法を使用して数式を記述します。

### インライン数式

インライン数式は `$...$` で囲みます。

例：
```
質点の運動方程式は $F = ma$ で表されます。
```

### ディスプレイ数式

ディスプレイ数式は `$$...$$` で囲みます。

例：
```
ガウスの発散定理は次のように表されます：
$$\iiint_V (\nabla \cdot \mathbf{F}) dV = \oiint_S \mathbf{F} \cdot \mathbf{n} \, dS$$
```

## インタラクティブな演習問題の作成

### 問題タイプ

以下の問題タイプがサポートされています：

1. 選択式（単一回答/複数回答）
2. 数式入力
3. 穴埋め
4. マッチング
5. 証明ステップの並べ替え

### 選択式問題の例

```json
{
  "type": "multiple-choice",
  "question": "次の中から正しい記述を選びなさい。",
  "options": [
    "2次正方行列は常に対角化可能である",
    "固有値が互いに異なる行列は対角化可能である",
    "対称行列は常に対角化不可能である",
    "任意の3次正方行列は対角化可能である"
  ],
  "correctAnswer": 1,
  "explanation": "固有値が互いに異なる行列では、対応する固有ベクトルは線形独立となるため、対角化可能です。"
}
```

### 数式入力問題の例

```json
{
  "type": "math-input",
  "question": "関数 $f(x) = x^2 - 3x + 2$ の導関数を求めなさい。",
  "correctAnswer": "2x - 3",
  "allowedVariation": 0.001,
  "hint": "$f'(x) = \\lim_{h \\to 0} \\frac{f(x+h) - f(x)}{h}$ の定義を思い出してください。"
}
```

## グラフと図表の作成

グラフや図表は以下の方法で作成できます：

1. LaTeXの`tikz`パッケージの記法を使用
2. GeoGebraで作成したアプレットの埋め込み
3. 画像アップロード機能を使用

### TikZの例

```latex
\begin{tikzpicture}
\draw[->] (-1,0) -- (4,0) node[right] {$x$};
\draw[->] (0,-1) -- (0,4) node[above] {$y$};
\draw[blue, thick] (0,0) parabola (3,3);
\end{tikzpicture}
```

## 動画コンテンツの追加

動画コンテンツは以下の方法で追加できます：

1. システムに直接アップロード（10分以内の短い動画向け）
2. 外部サービス（YouTube、Vimeo）からの埋め込み

### 埋め込みコードの例

```html
<iframe width="560" height="315" src="https://www.youtube.com/embed/XXXXXXXXXXXX" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
```

## 数学的概念の可視化ツール

本システムには以下の可視化ツールが組み込まれています：

1. 2D/3Dグラフプロッター
2. ベクトル場の可視化
3. 行列変換の可視化
4. 微分方程式のソルバー

これらのツールはコンテンツ内に「可視化モジュール」として追加できます。

## ベストプラクティス

1. 各レッスンの冒頭に学習目標を明示する
2. 抽象的な概念には具体例を複数提示する
3. 演習問題は基本→応用の順に配置する
4. 数学的に厳密な記述と直感的な説明をバランスよく混ぜる
5. 適切なフィードバックを含む自己評価の機会を設ける
